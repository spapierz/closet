<p id="notice"><%= notice %></p>

<h1>Posts</h1>

<table>
  <thead>
    <tr>
      <th>Caption</th>
      <th>Image url</th>
      <th colspan="3"></th>
    </tr>
    <!-- <%= render @posts %> -->
  </thead>

  <tbody>
    <% cache @posts do %>
      <% @posts.each do |post| %>
        ​<% cache post do %>​
          <tr>
            <td><%= post.caption %></td>
            <td><%= image_tag(post.image.thumb_medium) if post.image? %></td>
            <td><%= link_to 'Show', post %></td>
            <td><%= link_to 'Edit', edit_post_path(post) %></td>
            <td><%= link_to 'Destroy', post, method: :delete, data: { confirm: 'Are you sure?' } %></td>
            <td>
              <% post.tags.each do |tag| %>
                <%= link_to tag.name, tag_path(tag) %>
              <% end %>
            </td>
          </tr>
        <% end %>
      <% end %>
    <% end %>
  </tbody>

</table>

<br>

<%= link_to 'New Post', new_post_path %>
<br>
<br>

<% content_for :scripts do %>
  <!-- <script>

    document.addEventListener('click', function(event) {
      if (event.target.matches('.day')) {
        window.location = 'outfits';
      }
    }, false);
  </script> -->
<% end %>
